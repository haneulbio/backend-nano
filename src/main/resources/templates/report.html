<!DOCTYPE html>
<html lang="ko" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8" />
    <style>
        body { font-family: "NotoSansKR", sans-serif; font-size: 12px; line-height: 1.45; }
        h1 { font-size: 18px; margin: 0 0 9px; }
        h2 { font-size: 14px; margin: 18px 0 6px; }
        .muted { color: #555; }
        .box { border: 1px solid #ddd; border-radius: 10px; padding: 10px; margin: 10px 0; }
        table { width: 100%; border-collapse: collapse; margin-top: 6px; }
        th, td { border: 1px solid #eee; padding: 6px; text-align: left; vertical-align: top; }
        th { background: #fafafa; }
        .badge { display: inline-block; padding: 2px 6px; border: 1px solid #ddd; border-radius: 999px; margin-right: 6px; }
        .small { font-size: 11px; }
        .hr { margin: 14px 0; border-top: 1px solid #eee; }
    </style>
</head>
<body>

<h1>RISE Influencer Recommendation Report (DEMO)</h1>
<div class="muted small">
    Generated at: <span th:text="${generatedAt}"></span>
</div>

<h2>User Request</h2>
<div class="box" th:text="${userPrompt}"></div>

<h2>Interpreted Criteria (LLM)</h2>
<div class="box">
    <div><span class="badge">Followers</span>
        <span th:text="${intentMinFollowers}"></span> ~ <span th:text="${intentMaxFollowers}"></span>
    </div>
    <div><span class="badge">Wanted Tags</span>
        <span th:text="${intentWantedTags}"></span>
    </div>
    <div><span class="badge">Wanted Types</span>
        <span th:text="${intentWantedTypes}"></span>
    </div>
    <div><span class="badge">Max Ad Ratio</span>
        <span th:text="${intentMaxAdRatio}"></span>
    </div>
</div>

<h2>Top 10 Results</h2>

<div th:each="r,iter : ${results}">
    <div class="box">
        <div><b th:text="${iter.index + 1} + '. @' + ${r.username}"></b></div>
        <div class="small muted">
            Followers: <span th:text="${r.followersCount}"></span>
            <span> | </span> Score: <span th:text="${r.score}"></span>
        </div>

        <div class="hr"></div>

        <div><b>Why selected</b></div>
        <ul>
            <li th:each="reason : ${r.reasons}" th:text="${reason}"></li>
        </ul>
    </div>
</div>

<div class="muted small">
    * Demo dataset is synthetic and used to showcase the pipeline. Live mode requires opt-in + approved permissions.
</div>

</body>
</html>
